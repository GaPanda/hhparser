# hhparser

Разработан с целью получения данных с сайта [hh.ru](http://hh.ru).

Разработка производилась в операционной среде Windows. Работоспособность программы на UNIX-подобных ОС не проверялась.

***

## Необходимые программы:

1) [Python 3.x](https://www.python.org/downloads/)

2) [MSSQL Server 2016 Express](https://www.microsoft.com/ru-ru/sql-server/sql-server-editions-express).

3) Библиотеки python установленные с помощью пакетного менеджера pip.
   - lxml-3.7.3 и выше
   - beautifulsoup4 4.5.3 и выше
   - pyodbc 4.0.15 и выше

   Установку библиотек можно осуществить с помощью команды в командной строке Windows:
   ```
   pip install lxml bs4 pyodbc
   ```
***

## Установка из исходников:

1) Скопировать репозиторий к себе на компьютер или скачать zip архив с файлами проекта hhparser. Распаковать с помощью архиватора, например [WinRar](http://www.win-rar.ru/download/), в любую удобную для вас директорию. 

2) Установить необходимые программы(Python и MSSQL Server) и библиотеки python.

3) Создать базу данных с помощью сгенерированного файла mssql\crebas.sql (Изображение физической модели также находиться в папке MSSQL).

4) Если Python не добавлен в переменную PATH(в Windows) или возникает ошибка с запуском файла script_run.bat. Нужно добавить в файл script_run.bat полный путь до python.exe.
   ##### Стандартный:
   ```
   @echo off
   cmd /k "python hhparser.py"
   ```
   ##### Измененный:
   ```
   @echo off
   cmd /k "Путь до файла\python.exe Путь до файла\hhparser.py"
   ```
5) Отредактировать конфигурационный файл config\config.ini под свои нужды (Необходимо использовать синтаксис Python). Указать имена своих MSSQL сервера и базы данных.Указать задержку между запросами в переменной timeout, значение по умолчанию 0. Так же, если необходимо отредактировать, добавить или удалить ключевые слова по которым происходит поиск информации о вакансии.

6) Запускать скрипт с помощью файла script_run.bat.

***

## Установка скомпилированной программы:

1) Скачать архив по данной [ссылке](https://yadi.sk/d/RKFvHf2r3Gadm3). Распаковать с помощью архиватора, например [WinRar](http://www.win-rar.ru/download/), в любую удобную для вас директорию.

2) Создать базу данных на сервере MSSQL с помощью сгенерированного файла mssql\crebas.sql (Изображение физической модели также находиться в папке MSSQL).

3) Отредактировать конфигурационный файл config\config.ini под свои нужды (Необходимо использовать синтаксис Python). Указать имена своих MSSQL сервера и базы данных.Указать задержку между запросами в переменной timeout, значение по умолчанию 0. Так же, если необходимо отредактировать, добавить или удалить ключевые слова по которым происходит поиск информации о вакансии.

4) Запускать программу с помощью исполняемого файла hh_parser.exe, который находится в корне папки с программой.
