# hhparser

Разработан с целью получения данных о вакансиях с сайта [hh.ru](http://hh.ru).

Разработка производилась в операционной среде Windows. Работоспособность программы на UNIX-подобных ОС не проверялась. На данный момент программа умеет работать только с базами данных MSSQL Server, в дальнейшем список будет пополняться.

### Скачать скомпилированную программу: [hhparser](https://1drv.ms/u/s!Aiz5-WTXYzmqgfdau-mcVg6tjZxYqg)
***

## Необходимые программы:

Для добавление и просмотра обработанных программой запросов необходимы:

1) [MSSQL Server 2016 Express](https://www.microsoft.com/ru-ru/sql-server/sql-server-editions-express).
   
   [SQL Server Management Studio](https://docs.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms)
   
   Установка MSSQL Server и SSMS происходит с параметрами по умолчанию.
Если вы скачиваете архив скомпилированной программы, то установка Python и библиотек не обязательно.

2) [Python 3.x](https://www.python.org/downloads/)

3) Библиотеки python установленные с помощью пакетного менеджера pip.
   - lxml-3.7.3 и выше
   - beautifulsoup4 4.5.3 и выше
   - pyodbc 4.0.15 и выше
   - PyQt5
   - configparser

   Установку библиотек можно осуществить с помощью команды в командной строке Windows:
   ```
   pip install lxml bs4 pyodbc PyQt5 configparser
   ```
***

## Установка:

1) Скопировать репозиторий к себе на компьютер или скачать zip архив с файлами проекта hhparser. Распаковать с помощью архиватора, например [WinRar](http://www.win-rar.ru/download/), в любую удобную для вас директорию. 

2) Установить необходимые программы(Python и MSSQL Server) и библиотеки python.

3) Создать базу данных с помощью файла mssql\crebas.sql. Открыть файл в [SQL Server Management Studio](https://docs.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms). Следовать инструкциям описанным в файле.
   (Изображение физической модели также находиться в папке MSSQL).

***

## Запуск программы:
1) Консольный режим.

   Запускать с помощью команды в консоле.

   ```
   Путь до файла\python.exe Путь до файла\hhparser_cmd.py
   ```
   
   Отредактировать конфигурационный файл config\config.ini под свои нужды. Указать имена своих MSSQL сервера и базы данных. Указать        задержку между запросами в переменной timeout, значение по умолчанию 0.0. Так же, если необходимо отредактировать, добавить или          удалить ключевые слова по которым происходит поиск информации о вакансии (Необходимо сохранять в кодировке utf-8).

2) Пользовательский интерфейс.

   Запускать с помощью файла hhparser_ui.pyw, находящегося в корневой папке программы.
   
   В пункте меню "Настройки" указать имена своих MSSQL сервера и базы данных. Указать задержку между запросами в переменной timeout,        значение по умолчанию 0.0. Так же, если необходимо отредактировать, добавить или удалить ключевые слова по которым происходит поиск      информации о вакансии.

***
## Формирование запросов:

1) Сам запрос или подзапросы необходимо выделять ковычками, например "SQL" или 'SQL'.

2) Доступные операторы над подзапросами: "&" - пересечение подзапросов, "+" - объединение, "/" - разность.')

3) Можно использовать скобки, например ("ит" + "ИТ" + "IT") & "SQL".
